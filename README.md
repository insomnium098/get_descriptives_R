#  R version of get_descriptives for NeuroBlu

### General Info
***
This package mimics the python version of get_descriptives of NeuroBlu.
It receives a single dataframe or a list of dataframes and generates 
a table with the descriptive stats of the variables.

Continuous are compared between cohorts using Mann-Whitney U test while
Categorical and ordinal variables with Chi-squared test.

### Installation

```
devtools::install_github("insomnium098/get_descriptives_R/getdescriptives")
```

### Example

#### Single cohort

```
get_descriptives(mtcars)
```

```


|                | Cohort-1 (N=32) |
|:---------------|:---------------:|
|mpg             |                 |
|-  Mean (SD)    |  20.09 (6.03)   |
|-  Median (IQR) |  19.20 (7.38)   |
|cyl             |                 |
|-  Mean (SD)    |   6.19 (1.79)   |
|-  Median (IQR) |   6.00 (4.00)   |
|disp            |                 |
|-  Mean (SD)    | 230.72 (123.94) |
|-  Median (IQR) | 196.30 (205.18) |
|hp              |                 |
|-  Mean (SD)    | 146.69 (68.56)  |
|-  Median (IQR) | 123.00 (83.50)  |
|drat            |                 |
|-  Mean (SD)    |   3.60 (0.53)   |
|-  Median (IQR) |   3.70 (0.84)   |
|wt              |                 |
|-  Mean (SD)    |   3.22 (0.98)   |
|-  Median (IQR) |   3.33 (1.03)   |
|qsec            |                 |
|-  Mean (SD)    |  17.85 (1.79)   |
|-  Median (IQR) |  17.71 (2.01)   |
|vs              |                 |
|-  Mean (SD)    |   0.44 (0.50)   |
|-  Median (IQR) |   0.00 (1.00)   |
|am              |                 |
|-  Mean (SD)    |   0.41 (0.50)   |
|-  Median (IQR) |   0.00 (1.00)   |
|gear            |                 |
|-  Mean (SD)    |   3.69 (0.74)   |
|-  Median (IQR) |   4.00 (1.00)   |
|carb            |                 |
|-  Mean (SD)    |   2.81 (1.62)   |
|-  Median (IQR) |   2.00 (2.00)   |


```

```
data("PlantGrowth")
get_descriptives(PlantGrowth)
```

```
|                | Cohort-1 (N=30) |
|:---------------|:---------------:|
|weight          |                 |
|-  Mean (SD)    |   5.07 (0.70)   |
|-  Median (IQR) |   5.15 (0.98)   |
|group           |                 |
|-  ctrl         |   10 (33.3%)    |
|-  trt1         |   10 (33.3%)    |
|-  trt2         |   10 (33.3%)    |
```
#### Single cohort, > 2 groups
```
get_descriptives(PlantGrowth, cohort_col = "group")
```

```
|                | ctrl (N=10) | trt1 (N=10) | trt2 (N=10) |   p value|
|:---------------|:-----------:|:-----------:|:-----------:|---------:|
|weight          |             |             |             | 0.016 (1)|
|-  Mean (SD)    | 5.03 (0.58) | 4.66 (0.79) | 5.53 (0.44) |          |
|-  Median (IQR) | 5.15 (0.74) | 4.55 (0.66) | 5.44 (0.47) |          |
1. Linear Model ANOVA
```

#### Two cohorts


```
get_descriptives(list(list(mtcars[1:10,]), mtcars[11:20,]))
```
```
|                | Cohort-1 (N=10) | Cohort-2 (N=10) |   p value|
|:---------------|:---------------:|:---------------:|---------:|
|mpg             |                 |                 | 0.256 (1)|
|-  Mean (SD)    |  19.89 (8.92)   |  20.37 (2.91)   |          |
|-  Median (IQR) |  16.85 (12.42)  |  21.00 (3.63)   |          |
|cyl             |                 |                 | 0.260 (1)|
|-  Mean (SD)    |   6.60 (1.90)   |   5.80 (1.48)   |          |
|-  Median (IQR) |   8.00 (3.50)   |   6.00 (1.50)   |          |
|disp            |                 |                 | 0.472 (1)|
|-  Mean (SD)    | 259.25 (159.56) | 208.61 (90.37)  |          |
|-  Median (IQR) | 275.80 (298.02) | 163.80 (99.73)  |          |
|hp              |                 |                 | 0.306 (1)|
|-  Mean (SD)    | 149.60 (67.46)  | 122.80 (51.45)  |          |
|-  Median (IQR) | 180.00 (118.50) | 110.00 (22.25)  |          |
|drat            |                 |                 | 0.879 (1)|
|-  Mean (SD)    |   3.55 (0.69)   |   3.54 (0.44)   |          |
|-  Median (IQR) |   3.15 (0.97)   |   3.77 (0.73)   |          |
|wt              |                 |                 | 0.198 (1)|
|-  Mean (SD)    |   3.67 (1.43)   |   3.13 (0.41)   |          |
|-  Median (IQR) |   3.75 (2.44)   |   3.20 (0.50)   |          |
|qsec            |                 |                 | 0.940 (1)|
|-  Mean (SD)    |  18.30 (0.87)   |  18.58 (2.14)   |          |
|-  Median (IQR) |  17.99 (1.15)   |  18.45 (2.84)   |          |
|vs              |                 |                 | 0.383 (1)|
|-  Mean (SD)    |   0.40 (0.52)   |   0.60 (0.52)   |          |
|-  Median (IQR) |   0.00 (1.00)   |   1.00 (1.00)   |          |
|am              |                 |                 | 1.000 (1)|
|-  Mean (SD)    |   0.30 (0.48)   |   0.30 (0.48)   |          |
|-  Median (IQR) |   0.00 (0.75)   |   0.00 (0.75)   |          |
|gear            |                 |                 | 0.383 (1)|
|-  Mean (SD)    |   3.40 (0.52)   |   3.60 (0.52)   |          |
|-  Median (IQR) |   3.00 (1.00)   |   4.00 (1.00)   |          |
|carb            |                 |                 | 0.553 (1)|
|-  Mean (SD)    |   2.90 (1.20)   |   2.50 (1.35)   |          |
|-  Median (IQR) |   3.00 (1.75)   |   2.00 (2.75)   |          |
1. Wilcoxon rank sum test
```

```
get_descriptives(list(list(PlantGrowth), PlantGrowth), cohort_names = c("plant1", "plant2"))
```

```
|                | plant1 (N=30) | plant2 (N=30) |   p value|
|:---------------|:-------------:|:-------------:|---------:|
|weight          |               |               | 1.000 (1)|
|-  Mean (SD)    |  5.07 (0.70)  |  5.07 (0.70)  |          |
|-  Median (IQR) |  5.15 (0.98)  |  5.15 (0.98)  |          |
|group           |               |               | 1.000 (2)|
|-  ctrl         |  10 (33.3%)   |  10 (33.3%)   |          |
|-  trt1         |  10 (33.3%)   |  10 (33.3%)   |          |
|-  trt2         |  10 (33.3%)   |  10 (33.3%)   |          |
1. Wilcoxon rank sum test
2. Pearson's Chi-squared test
```

#### Ordinal variables

```
test <- subset(mockstudy, select = c(sex, age))
age_ordinal <- build_ordinal_type(test$age)
list_types <- list("age" = age_ordinal)
generateDescriptives(test, cohortCol = "sex",column_types = list_types)
```
```
|      | Male (N=916) | Female (N=583) |   p value|
|:-----|:------------:|:--------------:|---------:|
|age   |              |                | 0.058 (1)|
|-  19 |   1 (0.1%)   |    0 (0.0%)    |          |
|-  22 |   0 (0.0%)   |    1 (0.2%)    |          |
|-  26 |   1 (0.1%)   |    1 (0.2%)    |          |
|-  27 |   1 (0.1%)   |    1 (0.2%)    |          |
|-  28 |   1 (0.1%)   |    2 (0.3%)    |          |
|-  29 |   2 (0.2%)   |    3 (0.5%)    |          |
|-  30 |   3 (0.3%)   |    3 (0.5%)    |          |
|-  31 |   1 (0.1%)   |    2 (0.3%)    |          |
|-  32 |   3 (0.3%)   |    1 (0.2%)    |          |
|-  33 |   2 (0.2%)   |    1 (0.2%)    |          |
|-  34 |   3 (0.3%)   |    0 (0.0%)    |          |
|-  35 |   5 (0.5%)   |    4 (0.7%)    |          |
|-  36 |   5 (0.5%)   |    2 (0.3%)    |          |
|-  37 |   3 (0.3%)   |    4 (0.7%)    |          |
|-  38 |   7 (0.8%)   |    6 (1.0%)    |          |
|-  39 |   4 (0.4%)   |    6 (1.0%)    |          |
|-  40 |   4 (0.4%)   |    4 (0.7%)    |          |
|-  41 |  10 (1.1%)   |    5 (0.9%)    |          |
|-  42 |   7 (0.8%)   |    4 (0.7%)    |          |
|-  43 |   7 (0.8%)   |    3 (0.5%)    |          |
|-  44 |  16 (1.7%)   |    8 (1.4%)    |          |
|-  45 |  13 (1.4%)   |   10 (1.7%)    |          |
|-  46 |  13 (1.4%)   |   11 (1.9%)    |          |
|-  47 |  11 (1.2%)   |   11 (1.9%)    |          |
|-  48 |  13 (1.4%)   |    8 (1.4%)    |          |
|-  49 |  16 (1.7%)   |    9 (1.5%)    |          |
|-  50 |  21 (2.3%)   |   14 (2.4%)    |          |
|-  51 |  23 (2.5%)   |   18 (3.1%)    |          |
|-  52 |  21 (2.3%)   |   19 (3.3%)    |          |
|-  53 |  19 (2.1%)   |   16 (2.7%)    |          |
|-  54 |  23 (2.5%)   |   17 (2.9%)    |          |
|-  55 |  30 (3.3%)   |   17 (2.9%)    |          |
|-  56 |  27 (2.9%)   |   14 (2.4%)    |          |
|-  57 |  30 (3.3%)   |   26 (4.5%)    |          |
|-  58 |  28 (3.1%)   |   20 (3.4%)    |          |
|-  59 |  36 (3.9%)   |   17 (2.9%)    |          |
|-  60 |  20 (2.2%)   |   15 (2.6%)    |          |
|-  61 |  31 (3.4%)   |   27 (4.6%)    |          |
|-  62 |  22 (2.4%)   |   16 (2.7%)    |          |
|-  63 |  39 (4.3%)   |   15 (2.6%)    |          |
|-  64 |  30 (3.3%)   |   14 (2.4%)    |          |
|-  65 |  37 (4.0%)   |   13 (2.2%)    |          |
|-  66 |  39 (4.3%)   |   14 (2.4%)    |          |
|-  67 |  26 (2.8%)   |   20 (3.4%)    |          |
|-  68 |  30 (3.3%)   |   23 (3.9%)    |          |
|-  69 |  21 (2.3%)   |   16 (2.7%)    |          |
|-  70 |  23 (2.5%)   |   12 (2.1%)    |          |
|-  71 |  24 (2.6%)   |   20 (3.4%)    |          |
|-  72 |  19 (2.1%)   |   12 (2.1%)    |          |
|-  73 |  30 (3.3%)   |   11 (1.9%)    |          |
|-  74 |  28 (3.1%)   |   14 (2.4%)    |          |
|-  75 |  17 (1.9%)   |   13 (2.2%)    |          |
|-  76 |  15 (1.6%)   |   10 (1.7%)    |          |
|-  77 |  15 (1.6%)   |    8 (1.4%)    |          |
|-  78 |   7 (0.8%)   |    6 (1.0%)    |          |
|-  79 |   8 (0.9%)   |    4 (0.7%)    |          |
|-  80 |   5 (0.5%)   |    3 (0.5%)    |          |
|-  81 |   8 (0.9%)   |    4 (0.7%)    |          |
|-  82 |   3 (0.3%)   |    3 (0.5%)    |          |
|-  83 |   5 (0.5%)   |    1 (0.2%)    |          |
|-  84 |   1 (0.1%)   |    0 (0.0%)    |          |
|-  85 |   2 (0.2%)   |    0 (0.0%)    |          |
|-  88 |   1 (0.1%)   |    1 (0.2%)    |          |
1. Wilcoxon rank sum test
```

